{"mappings":"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","sources":["src/JS/news/btn-favorite.js","src/JS/news/markup-of-card.js","src/JS/news/read.js","src/JS/news/check-local-storage.js"],"sourcesContent":["import { checkLokalArray } from \"./check-local-storage\";\nexport const favoriteCards = [];\nexport function btnLike(newArray) {\n  const btnLike = document.querySelectorAll(\".card-news__btn-like\");\n  const spanAdd = document.querySelectorAll(\".card-news__add-to-favorite-btn\");\n  const iconLike = document.querySelectorAll(\".card-news__icon-like\");\n\n  btnLike.forEach((btn, index) => {\n    let isFavorite = false; // начальное значение\n\n    btn.addEventListener(\"click\", () => {\n      if (!isFavorite) {\n        spanAdd[index].textContent = \"Remove from favorite\";\n        iconLike[index].style.fill = \"var(--color1, #4440f7)\";\n        btn.classList.add(\"favorite\"); // добавить класс\n        isFavorite = true; // обновить значение\n      } else {\n        spanAdd[index].textContent = \"Add to favorite\";\n        iconLike[index].style.fill = \"\";\n        btn.classList.remove(\"favorite\"); // убрать класс\n        isFavorite = false; // обновить значение\n      }\n    });\n  });\n\n  btnLike.forEach((btn, index) => {\n    let isFavorite = false;\n    // let localFavorite = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n    // checkLokalArray(localFavorite);\n    btn.addEventListener(\"click\", () => {\n      if (!isFavorite) {\n        // Добавляем информацию о карточке в массив\n        favoriteCards.push({\n          headline: newArray[index].headline,\n          abstract: newArray[index].abstract,\n          category: newArray[index].category,\n          pub_date: newArray[index].pub_date,\n          photo: newArray[index].photo,\n          url: newArray[index].url,\n        });\n        // Обновляем локальное хранилище\n        localStorage.setItem(\"favoriteCards\", JSON.stringify(favoriteCards));\n        isFavorite = true;\n        //   }\n        // });\n      } else {\n        // Удаляем информацию о карточке из массива\n        const cardIndex = favoriteCards.findIndex(\n          card => card.headline === newArray[index].headline\n        );\n        if (cardIndex !== -1) {\n          favoriteCards.splice(cardIndex, 1);\n          // Обновляем локальное хранилище\n          localStorage.setItem(\"favoriteCards\", JSON.stringify(favoriteCards));\n        }\n        isFavorite = false;\n      }\n    });\n  });\n}\n\n// const cardNews = document.querySelector(\".card-news\");\n// cardNews.addEventListener(\"click\", btnAddToFavorite);\n// let newLocalStorage = [];\n\n// function isLocalEmpty() {\n//   if (JSON.parse(localStorage.getItem(\"favoriteCards\")) === null) {\n//     newLocalStorage = [];\n//     return;\n//   }\n//   newLocalStorage = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n// }\n// isLocalEmpty();\n\n// function btnAddToFavorite(event) {\n//   const btn = event.target.closest(`.card-news__btn-like`);\n//   if (!btn) return;\n//   isLocalEmpty();\n//   let title = btn.nextElementSibling.firstElementChild.textContent;\n//   if (!btn.classList.contains(\"favorite\")) {\n//     btn.classList.add(\"favorite\");\n//     addToFavoriteLocal(btn);\n//     return;\n//   }\n//   btn.classList.remove(\"favorite\");\n//   for (let i = 0; i < newLocalStorage.length; i += 1) {\n//     if (newLocalStorage[i].headline === title) {\n//       newLocalStorage.splice(i, 1);\n//     }\n//   }\n//   localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n// }\n\n// function addToFavoriteLocal(btn) {\n//   const favoriteCards = {\n//     headline: btn.nextElementSibling.firstElementChild.textContent,\n//     abstract: btn.nextElementSibling.lastElementChild.textContent,\n//     category: btn.previousElementSibling.innerHTML,\n//     pub_date:\n//       btn.nextElementSibling.nextElementSibling.firstElementChild.innerText,\n//     photo: btn.previousElementSibling.previousElementSibling.currentSrc,\n//     url: btn.nextElementSibling.nextElementSibling.lastElementChild.href,\n//     favorite: \"true\",\n//   };\n//   for (let i = 0; i < newLocalStorage.length; i += 1) {\n//     if (newLocalStorage[i].url === favoriteCards.url) return;\n//   }\n\n//   newLocalStorage.push(favoriteCards);\n//   localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n// }\n","export function markupOfCard(arr) {\n  const mark = arr\n    .map(array => {\n      return `<li class=\"card-news__item\">\n <img class=\"card-news__img\" src=\"${array.photo}\" alt=\"\" loading=\"lazy\" />\n <span class=\"card-news__categories\">${array.category}</span>\n <button class=\"card-news__btn-like\">\n   <span class=\"card-news__add-to-favorite-btn\"\n     >Add to favorite\n   </span>\n   <svg\n       class=\"card-news__icon-like\"\n       width=\"16\"\n       height=\"16\"\n       viewBox=\"0 0 37 32\"\n     >\n       <path\n         style=\"stroke: var(--color1, #4440f7)\"\n         stroke-linejoin=\"round\"\n         stroke-linecap=\"round\"\n         stroke-miterlimit=\"4\"\n         stroke-width=\"2.2857\"\n         d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"\n       ></path>\n     </svg>\n </button>\n <div class=\"card-news__wrapper\">\n   <h3 class=\"card-news__caption\">${array.headline}</h3>\n   <p class=\"card-news__text\">${array.abstract}</p>\n </div>\n <div class=\"card-news__box\">\n   <span class=\"card-news__time\">${array.pub_date}</span>\n   <a class=\"card-news__link\" target=\"_blank\" href=\"${array.url}\">Read more</a>\n </div>\n </li>`;\n    })\n    .join(\"\");\n  return mark;\n}\n","// import { btnRead } from \"./btn-read\";\n// import { markupOfCard } from \"./markup-of-card\";\n\n// btnRead();\n// $(document).ready(function () {\n//   $(\".spoiler_title\").click(function () {\n//     if ($(\".spoiler\").hasClass(\"one\")) {\n//       $(\".spoiler_title\").not($(this)).removeClass(\"spoiler-active\");\n//       $(\".spoiler_content\").not($(this).next()).slideUp(300);\n//     }\n//     $(this).toggleClass(\"spoiler-active\").next().slideToggle(300);\n//   });\n// });\nimport { btnLike } from \"./btn-favorite\";\nimport { markupOfCard } from \"./markup-of-card\";\nimport { checkLokalStorage } from \"./check-local-storage\";\n\nconst dateListEl = document.querySelector(\".date-list-search\");\nconst readListSearchEl = document.querySelector(\".date-list-search\");\nconst readFormEl = document.querySelector(\".search-form\");\nconst readInputEl = document.querySelector(\".search-input\");\n\nconst localData = JSON.parse(localStorage.getItem(\"readCards\"));\n\n// const undefinedReadeMore = document.querySelector(\".underfined\");\nfunction arrLocal() {\n  if (localData === null) {\n    // undefinedReadeMore.classList.remove(\"underfined-hidden\");\n    return;\n  }\n  return localData;\n}\n\nfunction sortDateReadMore(array = [], callback) {\n  const groupByDate = {};\n  for (const objectEl of array) {\n    const key = callback(objectEl);\n    if (groupByDate[key]) {\n      groupByDate[key].push(objectEl);\n    } else {\n      groupByDate[key] = [objectEl];\n    }\n  }\n  return groupByDate;\n}\n\nconst sortDate = sortDateReadMore(arrLocal(), objectEl => objectEl.dayRead);\nmarkupDateRead(sortDate);\nfunction markupDateRead(date) {\n  const markupBlockDate = Object.keys(date)\n    .map(key => {\n      return `<li class=\"date-list__item\">\n  <button class=\"date-list__btn\"><span class=\"date-list__btn-text\">${key}</span><span class=\"date-list__btn-block\">\n  <svg class=\"date-list__btn-icon\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n<symbol id=\"icon-Vector-2-1\" viewBox=\"0 0 50 32\">\n<path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class=\"list-news hidden\">${markupOfCard(date[key])}</ul>\n</li>`;\n    })\n    .join(\"\");\n  createMarkupLoadMore(markupBlockDate);\n}\n\nconst dateListItem = document.querySelectorAll(\".date-list__item\");\ndateListItem[0].classList.add(\"hidden\");\n\nbtnLike(localData);\nlet spanAdd = \"\";\nlet hiddenSpan = \"\";\nlet localFavorite = JSON.parse(localStorage.getItem(\"favoriteCards\"));\nlet checkFavorite = checkLokalStorage(card, localFavorite);\nif (checkFavorite) {\n  hiddenSpan = \"favorite\";\n  spanAdd = \"Remove from favorite\";\n} else {\n  spanAdd = \"Add to favorite\";\n}\n\ndateListEl.addEventListener(\"click\", event => {\n  const btn = event.target.closest(`.date-list__btn`);\n  if (!btn) return;\n\n  const iconDate = btn.querySelector(\".date-list__btn-block\");\n  const listNews = document.querySelector(\".list-news\");\n  if (listNews.classList.contains(\"hidden\")) {\n    listNews.classList.remove(\"hidden\");\n    iconDate.classList.add(\"turn\");\n  } else {\n    listNews.classList.add(\"hidden\");\n    iconDate.classList.remove(\"turn\");\n  }\n\n  //   function isHiddenItem(arr) {\n  //     arr.filter(list => {\n  //       list.classList.contains(\"hidden\");\n  //     });\n  //   }\n\n  //   if (!isHiddenItem(Array.from(document.querySelectorAll(\".list-news\")))) {\n  //     const item = document.querySelectorAll(\".list-news\");\n  //     item.forEach(elem => {\n  //       elem.classList.add(\"hidden\");\n  //       iconDate.classList.toggle(\"turn\");\n  //     });\n  //   }\n\n  btn.nextElementSibling.classList.toggle(\"hidden\");\n\n  return;\n});\n\nfunction createMarkupLoadMore(markupBlockDate) {\n  dateListEl.innerHTML = markupBlockDate;\n}\n\nreadFormEl.addEventListener(\"submit\", form);\n\nfunction form(event) {\n  let newArrForMarkupSearch = [];\n  event.preventDefault();\n\n  if (readInputEl.value.trim() === \"\") {\n    dateListEl.classList.remove(\"hidden\");\n    // document.querySelector(\".underfined\").classList.add(\"underfined-hidden\");\n    readListSearchEl.classList.add(\"hidden\");\n    newArrForMarkupSearch = [];\n    return;\n  }\n\n  const inputValue = readInputEl.value.toLowerCase();\n\n  for (let i = 0; i < localData.length; i += 1) {\n    let iteration = localData[i];\n    if (\n      iteration.abstract.toLowerCase().includes(inputValue) ||\n      iteration.headline.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase() === inputValue\n    ) {\n      newArrForMarkupSearch.push(iteration);\n    }\n  }\n  if (newArrForMarkupSearch.length === 0) {\n    dateListEl.classList.add(\"hidden\");\n    readListSearchEl.classList.add(\"hidden\");\n    // document.querySelector(\".underfined\").classList.remove(\"underfined-hidden\");\n    newArrForMarkupSearch = [];\n    return;\n  }\n  //   document.querySelector(\".underfined\").classList.add(\"underfined-hidden\");\n  dateListEl.classList.add(\"hidden\");\n  readListSearchEl.classList.remove(\"hidden\");\n\n  const markupBlockReadSearch = markupOfCard(newArrForMarkupSearch);\n\n  createMarkupLoadMore(markupBlockReadSearch);\n}\n\nfunction createMarkupLoadMore(markupBlockDate) {\n  readListSearchEl.innerHTML = markupBlockDate;\n  newArrForMarkupSearch = [];\n}\n","export function checkLokalStorage(elem, localArr) {\n  if (localArr === null) {\n    return;\n  }\n  for (let i = 0; i < localArr.length; i += 1) {\n    if (localArr[i].url === elem.url) {\n      return true;\n    }\n  }\n}\nexport function checkLokalArray(localArr) {\n  if (localArr === null) return;\n  else {\n    localStorage.setItem(\"favoriteCards\", JSON.stringify(localArr));\n  }\n}\n"],"names":["$4ffbd8fc0ac1383a$export$57a5be14e400305a","$ec5c269ae80325d7$export$2555d8523cd97054","arr","map","array","photo","category","headline","abstract","pub_date","url","join","$d43340dc628f5748$var$dateListEl","document","querySelector","$d43340dc628f5748$var$readListSearchEl","$d43340dc628f5748$var$readFormEl","$d43340dc628f5748$var$readInputEl","$d43340dc628f5748$var$localData","JSON","parse","localStorage","getItem","date","markupBlockDate","Object","keys","key","$d43340dc628f5748$var$createMarkupLoadMore","$d43340dc628f5748$var$markupDateRead","callback","groupByDate","objectEl","push","$d43340dc628f5748$var$sortDateReadMore","$d43340dc628f5748$var$arrLocal","dayRead","querySelectorAll","classList","add","newArray","btnLike","spanAdd","iconLike","forEach","btn","index","isFavorite","addEventListener","textContent","style","fill","remove","cardIndex","findIndex","card","splice","setItem","stringify","$d43340dc628f5748$var$spanAdd","$d43340dc628f5748$var$hiddenSpan","$d43340dc628f5748$var$localFavorite","innerHTML","newArrForMarkupSearch","elem","localArr","i","length","event","target","closest","iconDate","listNews","contains","nextElementSibling","toggle","newArrForMarkupSearch1","preventDefault","value","trim","inputValue","toLowerCase","iteration","includes","markupBlockReadSearch"],"version":3,"file":"read.81d808fe.js.map"}